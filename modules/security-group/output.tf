# ============================================================
# Security Group 모듈 출력값 정의
# 생성된 보안 그룹 정보를 다른 모듈에서 참조할 수 있도록 내보냄
# ============================================================

# 보안 그룹 ID 맵 출력
# 키: 보안 그룹 이름(web, rds 등), 값: 보안 그룹 ID
# EC2, 로드밸런서 등에서 보안 그룹 참조 시 사용
output "sg_ids" {
  description = "보안 그룹 이름을 키로 하는 ID 맵 (예: {web: sg-xxx, rds: sg-yyy})"
  value = {
    # for 표현식으로 맵 생성: {보안그룹이름: 보안그룹ID}
    for key, value in aws_security_group.sg : key => value.id
  }
}
